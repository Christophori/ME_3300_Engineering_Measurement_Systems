<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2018b"><title>Untitled</title><style type="text/css">.rtcContent { padding: 30px; } .CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S0 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px;  }
.S1 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px;  }
.S2 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 17.234001159668px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px;  }
.S3 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: bold; text-align: left;  }</style></head><body><div class = rtcContent><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% This is a generic program to generate calibration plot and provide slope</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% and intercept data; This code can be used for calibration for other</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% experiments too.</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% Date: August 5th, 2020</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% Dr. Vibhav Durgesh</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% Rev 0.0</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% This is a basic program to demonstrate the use of polyfit command and</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% calculate norm and standard error of fit.</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% User has to provide appropriate information - see beginning of code</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>clear </span><span class="warning_squiggle_rte" style="color: rgb(160, 32, 240);">all</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>close </span><span style="color: rgb(160, 32, 240);">all</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>clc</span></span></div></div></div><h2  class = 'S3'><span>User have to manually add information- change x, y, and t_nuP values as required.</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>x = [3.8005 3.5127 3.2527 2.9704 2.6897 2.5767 2.465 2.206 1.9007 1.6289 1.3384]; </span><span style="color: rgb(34, 139, 34);">%Voltage Data</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>y = [-90 -70 -50 -30 -10 0 10 30 50 70 90]; </span><span style="color: rgb(34, 139, 34);">%Angular Location of Pendulum</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>t_nuP= 2.262; </span><span style="color: rgb(34, 139, 34);">%Value read from t-student's table</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>plotTitle = </span><span style="color: rgb(160, 32, 240);">'Student''s Name calibration Plot'</span><span>;</span></span></div></div></div><h2  class = 'S3'><span>End of user information</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>[p,s] = polyfit (x,y,1); </span><span style="color: rgb(34, 139, 34);">% Curve fitting with 1st order fit</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>xfit = x;</span><span style="color: rgb(34, 139, 34);">% Generating x-data for curve fitting</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>yfit = polyval(p,xfit);</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>nu = s.df; </span><span style="color: rgb(34, 139, 34);">% Getting degree of freedom for the curve fit </span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>norm = s.normr; </span><span style="color: rgb(34, 139, 34);">% Getting the norm of the curve fitting</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>syx = norm/sqrt(nu);</span></span></div></div></div><h2  class = 'S3'><span>Generating figure with specific size</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>figure(1)</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>set(gcf,</span><span style="color: rgb(160, 32, 240);">'unit'</span><span>,</span><span style="color: rgb(160, 32, 240);">'inches'</span><span>,</span><span style="color: rgb(160, 32, 240);">'position'</span><span>,[0.50 0.50 6.50 3.50],</span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>    </span><span style="color: rgb(160, 32, 240);">'defaultaxesfontsize'</span><span>,10,</span><span style="color: rgb(160, 32, 240);">'defaultaxesfontname'</span><span>,</span><span style="color: rgb(160, 32, 240);">'times'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span style="color: rgb(34, 139, 34);">% Plotting data</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>plot(xfit,yfit,</span><span style="color: rgb(160, 32, 240);">'b-'</span><span>,</span><span style="color: rgb(160, 32, 240);">'linewidth'</span><span>,2);hold </span><span style="color: rgb(160, 32, 240);">on</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>plot(x,y,</span><span style="color: rgb(160, 32, 240);">'ro'</span><span>,</span><span style="color: rgb(160, 32, 240);">'markersize'</span><span>,9,</span><span style="color: rgb(160, 32, 240);">'markerfacecolor'</span><span>,</span><span style="color: rgb(160, 32, 240);">'r'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>xlabel(</span><span style="color: rgb(160, 32, 240);">'Volts (v)'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>ylabel(</span><span style="color: rgb(160, 32, 240);">'Angle (^{o})'</span><span>)</span></span></div></div></div><h2  class = 'S3'><span>Adding 95% confidence level lines in the plot</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>y_cl_low = yfit - t_nuP*syx; </span><span style="color: rgb(34, 139, 34);">% Using regression analysis</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>y_cl_up  = yfit + t_nuP*syx;</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>plot(xfit,y_cl_low,</span><span style="color: rgb(160, 32, 240);">'--'</span><span>,</span><span style="color: rgb(160, 32, 240);">'color'</span><span>,[0.2 0.2 0.2], </span><span style="color: rgb(160, 32, 240);">'HandleVisibility'</span><span>,</span><span style="color: rgb(160, 32, 240);">'off'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>plot(xfit,y_cl_up,</span><span style="color: rgb(160, 32, 240);">'--'</span><span>,</span><span style="color: rgb(160, 32, 240);">'color'</span><span>,[0.2 0.2 0.2]);</span></span></div></div></div><h2  class = 'S3'><span>Adding legend and title</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>legend(</span><span style="color: rgb(160, 32, 240);">'Curve fit'</span><span>,</span><span style="color: rgb(160, 32, 240);">'Expt. data'</span><span>,</span><span style="color: rgb(160, 32, 240);">'95% Cl range'</span><span>,</span><span style="color: rgb(160, 32, 240);">'location'</span><span>,</span><span style="color: rgb(160, 32, 240);">'Northeast'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>title(plotTitle)</span></span></div></div></div><h2  class = 'S3'><span>Adding text with relevant curvefitting information</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>text(3,10,sprintf(</span><span style="color: rgb(160, 32, 240);">'y = %3.4fx+%3.4f'</span><span>,p(1),p(2)),</span><span style="color: rgb(160, 32, 240);">'Fontname'</span><span>,</span><span style="color: rgb(160, 32, 240);">'times'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>text(3,0,sprintf(</span><span style="color: rgb(160, 32, 240);">'Norm = %3.4f'</span><span>,s.normr),</span><span style="color: rgb(160, 32, 240);">'Fontname'</span><span>,</span><span style="color: rgb(160, 32, 240);">'times'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>text(3,-10,sprintf(</span><span style="color: rgb(160, 32, 240);">'s_{yx} = %3.4f'</span><span>,syx),</span><span style="color: rgb(160, 32, 240);">'Fontname'</span><span>,</span><span style="color: rgb(160, 32, 240);">'times'</span><span>)</span></span></div></div></div><h2  class = 'S3'><span>Saving the files in png and pdf format</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S0'><span style="white-space: pre;"><span>figName = </span><span class="warning_squiggle_rte">[</span><span style="color: rgb(160, 32, 240);">'../Figures/Student_Name_Exp02_Part1'</span><span>];</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>set(gcf,</span><span style="color: rgb(160, 32, 240);">'PaperPositionMode'</span><span>,</span><span style="color: rgb(160, 32, 240);">'auto'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>print(figName,</span><span style="color: rgb(160, 32, 240);">'-dpng'</span><span>,</span><span style="color: rgb(160, 32, 240);">'-r600'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>set(gcf,</span><span style="color: rgb(160, 32, 240);">'PaperUnits'</span><span>,</span><span style="color: rgb(160, 32, 240);">'inches'</span><span>,</span><span style="color: rgb(160, 32, 240);">'Units'</span><span>,</span><span style="color: rgb(160, 32, 240);">'inches'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>figpos = get(gcf,</span><span style="color: rgb(160, 32, 240);">'Position'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: pre;"><span>set(gcf,</span><span style="color: rgb(160, 32, 240);">'Papersize'</span><span>,figpos(3:4),</span><span style="color: rgb(160, 32, 240);">'Units'</span><span>,</span><span style="color: rgb(160, 32, 240);">'inches'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: pre;"><span>print(figName,</span><span style="color: rgb(160, 32, 240);">'-dpdf'</span><span>,</span><span style="color: rgb(160, 32, 240);">'-r600'</span><span>)</span></span></div></div></div></div><br>
<!-- 
##### SOURCE BEGIN #####
% This is a generic program to generate calibration plot and provide slope
% and intercept data; This code can be used for calibration for other
% experiments too.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Date: August 5th, 2020
% Dr. Vibhav Durgesh
% Rev 0.0
% This is a basic program to demonstrate the use of polyfit command and
% calculate norm and standard error of fit.
% User has to provide appropriate information - see beginning of code
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

clear all
close all
clc
%% User have to manually add information- change x, y, and t_nuP values as required.
%%
x = [3.8005 3.5127 3.2527 2.9704 2.6897 2.5767 2.465 2.206 1.9007 1.6289 1.3384]; %Voltage Data
y = [-90 -70 -50 -30 -10 0 10 30 50 70 90]; %Angular Location of Pendulum
t_nuP= 2.262; %Value read from t-student's table
plotTitle = 'Student''s Name calibration Plot';
%% End of user information
%%
[p,s] = polyfit (x,y,1); % Curve fitting with 1st order fit
xfit = x;% Generating x-data for curve fitting
yfit = polyval(p,xfit);
nu = s.df; % Getting degree of freedom for the curve fit 
norm = s.normr; % Getting the norm of the curve fitting
syx = norm/sqrt(nu);
%% Generating figure with specific size
%%
figure(1)
set(gcf,'unit','inches','position',[0.50 0.50 6.50 3.50],...
    'defaultaxesfontsize',10,'defaultaxesfontname','times');
% Plotting data
plot(xfit,yfit,'b-','linewidth',2);hold on
plot(x,y,'ro','markersize',9,'markerfacecolor','r')
xlabel('Volts (v)')
ylabel('Angle (^{o})')
%% Adding 95% confidence level lines in the plot
%%
y_cl_low = yfit - t_nuP*syx; % Using regression analysis
y_cl_up  = yfit + t_nuP*syx;
plot(xfit,y_cl_low,'REPLACE_WITH_DASH_DASH','color',[0.2 0.2 0.2], 'HandleVisibility','off');
plot(xfit,y_cl_up,'REPLACE_WITH_DASH_DASH','color',[0.2 0.2 0.2]);
%% Adding legend and title
%%
legend('Curve fit','Expt. data','95% Cl range','location','Northeast')
title(plotTitle)
%% Adding text with relevant curvefitting information
%%
text(3,10,sprintf('y = %3.4fx+%3.4f',p(1),p(2)),'Fontname','times')
text(3,0,sprintf('Norm = %3.4f',s.normr),'Fontname','times')
text(3,-10,sprintf('s_{yx} = %3.4f',syx),'Fontname','times')
%% Saving the files in png and pdf format
%%
figName = ['../Figures/Student_Name_Exp02_Part1'];
set(gcf,'PaperPositionMode','auto')
print(figName,'-dpng','-r600')
set(gcf,'PaperUnits','inches','Units','inches');
figpos = get(gcf,'Position');
set(gcf,'Papersize',figpos(3:4),'Units','inches');
print(figName,'-dpdf','-r600')
##### SOURCE END #####
--></body></html>